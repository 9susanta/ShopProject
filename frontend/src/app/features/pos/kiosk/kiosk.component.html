<div class="kiosk-container">
  <!-- Header -->
  <header class="kiosk-header">
    <div class="header-left">
      <h1>Grocery Store</h1>
    </div>
    <div class="header-center">
      <grocery-search-bar
        (search)="onSearch($event)"
      ></grocery-search-bar>
    </div>
    <div class="header-right">
      <grocery-voice-command-button></grocery-voice-command-button>
      <button class="cart-button" (click)="onCheckout()">
        <span class="material-icons">shopping_cart</span>
        @if (cartItemCount() > 0) {
          <span class="cart-count">{{ cartItemCount() }}</span>
        }
        <span class="cart-total">{{ cartTotal() | currency:'INR':'symbol':'1.0-0' }}</span>
      </button>
    </div>
  </header>

  <!-- Main Content -->
  <div class="kiosk-content">
    <!-- Sidebar: Categories -->
    <aside class="sidebar">
      <grocery-category-nav
        [products]="products()"
        (categorySelected)="onCategorySelected($event)"
      ></grocery-category-nav>
    </aside>

    <!-- Products Grid -->
    <main class="products-area">
      <grocery-product-tiles
        [products]="filteredProducts()"
        (addToCart)="onAddToCart($event)"
      ></grocery-product-tiles>
    </main>

    <!-- Cart Sidebar -->
    <aside class="cart-sidebar">
      <grocery-cart-panel
        [cart]="cart()"
        (cartUpdated)="onCartUpdated($event)"
        (checkout)="onCheckout()"
      ></grocery-cart-panel>
    </aside>
  </div>

  <!-- Checkout Modal -->
  @if (showCheckout()) {
    <grocery-checkout-modal
      [cart]="cart()"
      (complete)="onCheckoutComplete()"
      (cancel)="onCheckoutCancel()"
    ></grocery-checkout-modal>
  }
</div>

